<h1 class="mb-4">Department Details</h1>

<!-- Back button -->
<div class="mb-3">
  <%= link_to "Back to departments", departments_path, class: "btn btn-secondary" %>
</div>

<h2 class="mt-4">Employees</h2>

<div class="mb-3">
  <%= link_to "New Employee", new_employee_path, class: "btn btn-primary" %>
</div>

<table class="table table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Salary</th>
      <th>Department</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @department.employees.each do |employee| %>
      <tr>
        <td><%= "#{employee.first_name} #{employee.last_name}" %></td>
        <td><%= employee.email %></td>
        <td><%= number_to_currency(employee.salary, unit: "â‚¹ ") %></td>
        <td><%= employee.department.name %></td>

        <!-- REPLACED ACTION BUTTONS HERE -->
        <td class="d-flex gap-2">

          <%= link_to employee, class: "btn btn-info btn-sm d-flex align-items-center" do %>
            <i class="bi bi-eye me-1"></i> Show
          <% end %>

          <%= link_to edit_employee_path(employee), class: "btn btn-warning btn-sm d-flex align-items-center" do %>
            <i class="bi bi-pencil-square me-1"></i> Edit
          <% end %>

          <%= link_to employee,
                      method: :delete,
                      data: { confirm: "Are you sure?" },
                      class: "btn btn-danger btn-sm d-flex align-items-center" do %>
            <i class="bi bi-trash me"> </i>  Delete
          <% end %>

        </td>
      </tr>
    <% end %>
  </tbody>
</table>
